{"version":3,"sources":["webpack:///./src/views/message/MessageList.vue?9405","webpack:///./src/views/message/MessageList.vue?a65b","webpack:///src/views/message/MessageList.vue","webpack:///./src/views/message/MessageList.vue?003a","webpack:///./src/views/message/MessageList.vue"],"names":["_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_14d76adb_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_14d76adb_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","_v","staticStyle","margin-top","attrs","shadow","staticClass","span","size","on","change","model","value","callback","$$v","activeName","expression","label","_s","message","new_count","text-align","padding-right","type","click","batchIsRead","batchDel","min-height","width","show-header","data","list","scopedSlots","_u","key","fn","scope","row","msg_type","action_type","_e","headIcon","from","user_headicon","name","user_abbr","bgColor","user_backcolor","user_name","$event","handleMessage","target","id","title","prop","margin-right","status","del","background","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","MessageListvue_type_script_lang_js_","components","BreadcrumbBox","Avatar","mounted","messageList","page","limit","methods","targetId","messageId","_this","$store","dispatch","then","$router","push","_this2","forEach","element","result","$message","_this3","val","_this4","_this5","message_MessageListvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-185f4bab.b5df9987.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=style&index=0&id=14d76adb&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=style&index=0&id=14d76adb&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('breadcrumb-box'),_vm._v(\" \"),_c('el-card',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"w750\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":16}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.change},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"未读 \"+_vm._s(_vm.message.new_count))])],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"right\",\"padding-right\":\"15px\"},attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.batchIsRead}},[_vm._v(\"批量已读\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.batchDel}},[_vm._v(\"批量删除\")])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"min-height\":\"400px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-header\":false,\"data\":_vm.message.list}},[_c('el-table-column',{attrs:{\"label\":\"消息标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.msg_type =='system')?[(scope.row.action_type === 'passwordwrong')?_c('div',[_vm._v(\"\\n                    您的登录密码错误，请重新输入\\n                  \")]):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'answerwrong')?_c('div',[_vm._v(\"\\n                    您的验证问题错误，请重新输入\\n                  \")]):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'passwordchanged')?_c('div',[_vm._v(\"\\n                    您的密码已修改成功\\n                  \")]):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'qachanged')?_c('div',[_vm._v(\"\\n                    您的验证问题已修改成功\\n                  \")]):_vm._e()]:_vm._e(),_vm._v(\" \"),(scope.row.msg_type =='user')?[(scope.row.action_type === 'addmember')?_c('div',[_c('avatar',{attrs:{\"headIcon\":scope.row.from.user_headicon,\"name\":scope.row.from.user_abbr,\"bgColor\":scope.row.from.user_backcolor,\"size\":\"mini\"}}),_vm._v(\"\\n                    \"+_vm._s(scope.row.from.user_name)+\"\\n                    邀请您加入课题\\n                    \"),_c('span',{staticClass:\"subject-link\",on:{\"click\":function($event){return _vm.handleMessage(scope.row.target.id,scope.row.id,scope.row.action_type)}}},[_vm._v(\"《 \"+_vm._s(scope.row.target.title)+\"》\")])],1):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'removemember')?_c('div',[_vm._v(\"\\n                    \"+_vm._s(scope.row.target.title)+\"管理员已将您移出该课题\\n                  \")]):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'banmember')?_c('div',[_vm._v(\"\\n                    \"+_vm._s(scope.row.target.title)+\"管理员已将您禁言\\n                  \")]):_vm._e(),_vm._v(\" \"),(scope.row.action_type === 'unbanmember')?_c('div',[_vm._v(\"\\n                    \"+_vm._s(scope.row.target.title)+\"管理员已解除您的禁言\\n                  \")]):_vm._e()]:_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ptime\",\"label\":\"消息推送时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-right\":\"40px\"}},[_vm._v(\"  \"+_vm._s(scope.row.status==1?'未读':\"已读\")+\" \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"\\n                  删除\\n                \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next,sizes,  jumper\",\"total\":_vm.message.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n      <breadcrumb-box>\r\n      </breadcrumb-box>\r\n      <el-card shadow='hover' style=\"margin-top:15px\">\r\n        <div class=\"w750\">\r\n          <el-row>\r\n            <el-col :span=\"16\">\r\n              <el-radio-group v-model=\"activeName\" size=\"small\" @change='change'>\r\n                <el-radio-button :label=\"0\">全部</el-radio-button>\r\n                <el-radio-button :label=\"1\">未读 {{message.new_count}}</el-radio-button>\r\n              </el-radio-group>\r\n            </el-col>\r\n            <el-col :span=\"8\" style=\"text-align:right;padding-right:15px\">\r\n              <el-button type=\"text\" @click=\"batchIsRead\">批量已读</el-button>\r\n              <el-button type=\"text\" @click=\"batchDel\">批量删除</el-button>\r\n            </el-col>\r\n          </el-row>\r\n          <div style=\"margin-top:10px;min-height:400px\">\r\n            <el-table\r\n              :show-header=\"false\"\r\n              :data=\"message.list\"\r\n              style=\"width: 100%\">\r\n              <el-table-column\r\n                label=\"消息标题\"\r\n              >\r\n                <template slot-scope=\"scope\">\r\n                  <template v-if=\"scope.row.msg_type =='system'\">\r\n                    <!-- 登录密码错 -->\r\n                    <div v-if=\"scope.row.action_type === 'passwordwrong'\">\r\n                      您的登录密码错误，请重新输入\r\n                    </div>\r\n                    <!-- 验证答案错 -->\r\n                    <div v-if=\"scope.row.action_type === 'answerwrong'\">\r\n                      您的验证问题错误，请重新输入\r\n                    </div>\r\n                    <!-- 修改了密码 -->\r\n                    <div v-if=\"scope.row.action_type === 'passwordchanged'\">\r\n                      您的密码已修改成功\r\n                    </div>\r\n                    <!-- 修改了安全问题及答案 -->\r\n                    <div v-if=\"scope.row.action_type === 'qachanged'\">\r\n                      您的验证问题已修改成功\r\n                    </div>\r\n                  </template>\r\n                  <template v-if=\"scope.row.msg_type =='user'\">\r\n                    <!-- 添加成员加入话题 -->\r\n                    <div v-if=\"scope.row.action_type === 'addmember'\">\r\n                      <avatar :headIcon='scope.row.from.user_headicon' :name='scope.row.from.user_abbr' :bgColor='scope.row.from.user_backcolor' size='mini' />\r\n                      {{scope.row.from.user_name}}\r\n                      邀请您加入课题\r\n                      <span class=\"subject-link\" @click=\"handleMessage(scope.row.target.id,scope.row.id,scope.row.action_type)\">《 {{scope.row.target.title}}》</span>\r\n                    </div>\r\n                    <!-- 成员踢出话题 -->\r\n                    <div v-if=\"scope.row.action_type === 'removemember'\">\r\n                      {{scope.row.target.title}}管理员已将您移出该课题\r\n                    </div>\r\n                    <!-- 话题禁言 -->\r\n                    <div v-if=\"scope.row.action_type === 'banmember'\">\r\n                      {{scope.row.target.title}}管理员已将您禁言\r\n                    </div>\r\n                    <!-- 话题解除禁言 -->\r\n                    <div v-if=\"scope.row.action_type === 'unbanmember'\">\r\n                      {{scope.row.target.title}}管理员已解除您的禁言\r\n                    </div>\r\n                  </template>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"ptime\"\r\n                label=\"消息推送时间\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                label=\"操作\"\r\n                width=\"140\"\r\n              >\r\n                <template slot-scope=\"scope\">\r\n                  <span  style=\"margin-right:40px\">  {{scope.row.status==1?'未读':\"已读\"}} </span>\r\n                  <el-button  type=\"text\" size=\"small\" @click=\"del(scope.row.id)\">\r\n                    删除\r\n                  </el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              style=\"margin-top:20px\"\r\n              background\r\n              layout=\"prev, pager, next,sizes,  jumper\"\r\n              :total=\"message.total\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n\r\n      </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\n import BreadcrumbBox from '@/layout/BreadcrumbBox'\r\n import Avatar from '@/components/Avatar'\r\n export default {\r\n    name: 'MessageList',\r\n    components: {\r\n        BreadcrumbBox,\r\n        Avatar\r\n    },\r\n    data() {\r\n      return {\r\n        message:{\r\n          total: 1,\r\n          new_count: \"\",\r\n          list: []\r\n        },\r\n        activeName: 0,\r\n      }\r\n    },\r\n    mounted(){\r\n      this.messageList({page: 1,limit:10,status:0})\r\n    },\r\n    methods: {\r\n      handleMessage(targetId,messageId,action_type){\r\n        if(action_type === 'addmember'){\r\n             this.$store.dispatch('message/setread',{id:messageId}).then(()=>{\r\n              this.$store.dispatch('message/hasnew')\r\n             });\r\n\r\n            this.$router.push('/studio?id='+targetId+'&fromPage=MessageList')\r\n        }\r\n      },\r\n      batchIsRead(){\r\n        const { list } = this.message\r\n        let id = ''\r\n        list.forEach(element => {\r\n          if(element.status === 1){\r\n            id+=element.id+','\r\n          }\r\n        });\r\n\r\n        if(id){\r\n          this.$store.dispatch('message/setread',{id}).then((result)=>{\r\n            this.messageList({page: 1,limit:10,status:this.activeName})\r\n            this.$message({\r\n                  message: '批量已读操作成功',\r\n                  type: 'success'\r\n              });\r\n          })\r\n        }else{\r\n           this.$message({\r\n                message: '无需要批量操作已读消息',\r\n                type: 'warn'\r\n            });\r\n        }\r\n\r\n      },\r\n      batchDel(){\r\n        const { list } = this.message\r\n        let id = ''\r\n        list.forEach(element => {\r\n          id+=element.id+','\r\n        });\r\n\r\n        if(id){\r\n          this.$store.dispatch('message/remove',{id}).then((result)=>{\r\n            this.messageList({page: 1,limit:10,status:this.activeName})\r\n            this.$message({\r\n                message: '批量删除操作消息成功',\r\n                type: 'success'\r\n            });\r\n          })\r\n        }else{\r\n           this.$message({\r\n                message: '无需要批量删除操作消息',\r\n                type: 'warn'\r\n            });\r\n        }\r\n      },\r\n      change(value){\r\n         this.messageList({page: 1,limit:10,status:value})\r\n      },\r\n      handleSizeChange(val) {\r\n        this.messageList({page: 1,limit:val,status:this.activeName})\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.messageList({page: val,limit:10,status:this.activeName})\r\n      },\r\n      messageList(data){\r\n        this.$store.dispatch('message/list',data).then((result)=>{\r\n            this.message = result.data\r\n            this.$store.dispatch('message/hasnew')\r\n        })\r\n      },\r\n      del(id){\r\n         this.$store.dispatch('message/remove',{id}).then((result)=>{\r\n            this.messageList({page: 1,limit:10,status:this.activeName})\r\n        })\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.subject-link {\r\n  color: #409EFF;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageList.vue?vue&type=template&id=14d76adb&scoped=true&\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageList.vue?vue&type=style&index=0&id=14d76adb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14d76adb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}