{"version":3,"sources":["webpack:///./src/views/login/index.vue?c1da","webpack:///./src/views/login/index.vue?6ccc","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?f649","webpack:///./src/views/login/index.vue"],"names":["_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7e870fcf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7e870fcf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","showModule","ref","attrs","model","loginForm","rules","loginRules","auto-complete","label-position","staticStyle","text-align","_v","prop","placeholder","name","type","tabindex","autocomplete","value","callback","$$v","$set","trim","expression","key","passwordType","nativeOn","keyup","$event","indexOf","_k","keyCode","handleLogin","on","click","showPwd","icon-class","loading","preventDefault","_e","settingInfoForm","settingInfoRules","submit","handleHome","width","margin-bottom","settingInfoLoading","prev","staticRenderFns","loginvue_type_script_lang_js_","data","account","user_pass","required","trigger","message","userpass","min","user_name","max","redirect","undefined","watch","$route","handler","route","flag","fullPath","split","decodeURIComponent","immediate","methods","i","_this","$nextTick","$refs","focus","_this2","_ref","validate","valid","console","log","md5Userpass","Object","utils","userInfo","objectSpread","$store","dispatch","then","user","inited","$router","push","path","catch","_this3","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-24862a4c.bb4e96eb.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7e870fcf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7e870fcf&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login-form\"},[(_vm.showModule===1)?_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"auto-complete\":\"off\",\"label-position\":\"left\"}},[_c('el-card',[_c('div',{staticClass:\"title-container\"},[_c('h4',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Beehub\")]),_vm._v(\" \"),_c('h3',{staticClass:\"title\"},[_vm._v(\"登录\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{ref:\"account\",attrs:{\"placeholder\":\"用户名\",\"name\":\"account\",\"type\":\"text\",\"tabindex\":\"1\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.account),callback:function ($$v) {_vm.$set(_vm.loginForm, \"account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"user_pass\"}},[_c('el-input',{key:_vm.passwordType,ref:\"user_pass\",attrs:{\"type\":_vm.passwordType,\"placeholder\":\"密码\",\"name\":\"user_pass\",\"tabindex\":\"2\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.user_pass),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user_pass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.user_pass\"}}),_vm._v(\" \"),_c('span',{staticClass:\"show-pwd\",on:{\"click\":_vm.showPwd}},[_c('svg-icon',{attrs:{\"icon-class\":_vm.passwordType === 'password' ? 'eye' : 'eye-open'}})],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"button-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_vm._v(\"\\n              登录\\n             \")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showModule===2)?_c('el-form',{ref:\"settingInfoForm\",attrs:{\"model\":_vm.settingInfoForm,\"rules\":_vm.settingInfoRules,\"label-position\":\"left\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-card',[_c('div',{staticClass:\"title-container\"},[_c('h4',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Beehub\")]),_vm._v(\" \"),_c('h3',{staticClass:\"title\"},[_vm._v(\"设置信息\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"user_name\"}},[_c('el-input',{ref:\"user_name\",attrs:{\"placeholder\":\"昵称\",\"name\":\"user_name\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleHome($event)}},model:{value:(_vm.settingInfoForm.user_name),callback:function ($$v) {_vm.$set(_vm.settingInfoForm, \"user_name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"settingInfoForm.user_name\"}})],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"10px\"},attrs:{\"loading\":_vm.settingInfoLoading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleHome($event)}}},[_vm._v(\"进入大厅\")]),_vm._v(\" \"),_c('el-form-item',[_c('span',{staticClass:\"prev\",on:{\"click\":function($event){return _vm.prev(2)}}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" 前一页\")])])],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description:\r\n * @Author: icony/精武陈真\r\n * @Date: 2019-06-20 16:29:12\r\n * @LastEditTime: 2019-07-19 17:16:34\r\n * @LastEditors: icony/精武陈真\r\n -->\r\n\r\n\r\n<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form\" >\r\n        <el-form ref=\"loginForm\" v-if=\"showModule===1\"\r\n        :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"off\" label-position=\"left\">\r\n          <el-card >\r\n              <div class=\"title-container\">\r\n                <h4 style=\"text-align:center\">Beehub</h4>\r\n                <h3 class=\"title\">登录</h3>\r\n              </div>\r\n              <el-form-item prop=\"account\">\r\n                <el-input\r\n                  ref=\"account\"\r\n                  v-model.trim=\"loginForm.account\"\r\n                  placeholder=\"用户名\"\r\n                  name=\"account\"\r\n                  type=\"text\"\r\n                  tabindex=\"1\"\r\n                  autocomplete=\"off\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item prop=\"user_pass\">\r\n                <el-input\r\n                  :key=\"passwordType\"\r\n                  ref=\"user_pass\"\r\n                  v-model.trim=\"loginForm.user_pass\"\r\n                  :type=\"passwordType\"\r\n                  placeholder=\"密码\"\r\n                  name=\"user_pass\"\r\n                  tabindex=\"2\"\r\n                  autocomplete=\"off\"\r\n                  @keyup.enter.native=\"handleLogin\"\r\n                />\r\n                <span class=\"show-pwd\" @click=\"showPwd\">\r\n                  <svg-icon :icon-class=\"passwordType === 'password' ? 'eye' : 'eye-open'\" />\r\n                </span>\r\n              </el-form-item>\r\n              <el-button\r\n              :loading=\"loading\"\r\n              type=\"primary\"\r\n              class=\"button-btn\"\r\n               @click.native.prevent=\"handleLogin\"\r\n               >\r\n                登录\r\n               </el-button>\r\n          </el-card>\r\n        </el-form>\r\n\r\n        <!-- <el-form ref=\"answerForm\" v-if=\"showModule===2\"\r\n        :model=\"answerForm\" :rules=\"answerRules\"  label-position=\"left\">\r\n          <el-card >\r\n              <div class=\"title-container\">\r\n                <h4 style=\"text-align:center\">Beehub</h4>\r\n                <h3 class=\"title\">回答验证问题</h3>\r\n              </div>\r\n              <el-form-item>\r\n                <el-input\r\n                  v-model=\"answerForm.user_question\"\r\n                  placeholder=\"\"\r\n                  name=\"user_question\"\r\n                  disabled=\"\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item prop=\"user_answer\">\r\n                <el-input\r\n                  v-model.trim=\"answerForm.user_answer\"\r\n                  placeholder=\"答案\"\r\n                  name=\"user_answer\"\r\n                  ref=\"userAnswer\"\r\n                  @keyup.enter.native=\"verifyanswer\"\r\n                />\r\n              </el-form-item>\r\n              <el-button :loading=\"answerLoading\" type=\"primary\"\r\n              style=\"width:100%;margin-bottom:10px\"\r\n              @click.native.prevent=\"verifyanswer\">登录</el-button>\r\n              <el-form-item>\r\n                <span @click=\"prev(2)\" class=\"prev\"><i class=\"el-icon-arrow-left\"></i> 前一页</span>\r\n              </el-form-item>\r\n          </el-card>\r\n        </el-form> -->\r\n        <el-form ref=\"settingInfoForm\" v-if=\"showModule===2\" @submit.native.prevent\r\n        :model=\"settingInfoForm\" :rules=\"settingInfoRules\"  label-position=\"left\">\r\n          <el-card >\r\n              <div class=\"title-container\">\r\n                <h4 style=\"text-align:center\">Beehub</h4>\r\n                <h3 class=\"title\">设置信息</h3>\r\n              </div>\r\n              <el-form-item prop=\"user_name\">\r\n               <el-input\r\n                  v-model.trim=\"settingInfoForm.user_name\"\r\n                  placeholder=\"昵称\"\r\n                  name=\"user_name\"\r\n                  ref=\"user_name\"\r\n                  @keyup.enter.native=\"handleHome\"\r\n                />\r\n              </el-form-item>\r\n              <!-- <div class=\"line\">\r\n                <div class=\"line-title\">验证问题用于登录，请务必记住</div>\r\n              </div>\r\n              <el-form-item prop=\"user_question\">\r\n                <el-input\r\n                  v-model.trim=\"settingInfoForm.user_question\"\r\n                  placeholder=\"验证问题\"\r\n                  name=\"user_question\"\r\n                />\r\n              </el-form-item>\r\n               <el-form-item prop=\"user_answer\">\r\n                <el-input\r\n                  v-model.trim=\"settingInfoForm.user_answer\"\r\n                  placeholder=\"答案\"\r\n                  name=\"user_answer\"\r\n                  @keyup.enter.native=\"handleHome\"\r\n                />\r\n              </el-form-item> -->\r\n              <el-button :loading=\"settingInfoLoading\" type=\"primary\" style=\"width:100%;margin-bottom:10px;\"\r\n              @click.native.prevent=\"handleHome\">进入大厅</el-button>\r\n              <el-form-item>\r\n                <span @click=\"prev(2)\" class=\"prev\"><i class=\"el-icon-arrow-left\"></i> 前一页</span>\r\n              </el-form-item>\r\n          </el-card>\r\n        </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { md5Encryption } from \"@/utils\";\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      showModule:1, // 1:登录,2:设置信息\r\n      loginForm: {\r\n        account: '',\r\n        user_pass: ''\r\n      },\r\n      loginRules: {\r\n        account: [{ required: true, trigger: 'blur', message:'请输入用户名' }],\r\n        userpass: [\r\n          { required: true, trigger: 'blur', message: '请输入密码' },\r\n          { min: 6, trigger: 'blur', message: '密码长度不能少于5位' }\r\n        ]\r\n      },\r\n      // answerForm: {\r\n      //   user_question: '',\r\n      //   user_answer: ''\r\n      // },\r\n      // answerLoading: false,\r\n      // answerRules: {\r\n      //   user_answer: [\r\n      //     { required: true, trigger: 'blur', message: '请输入答案' }\r\n      //   ]\r\n      // },\r\n      settingInfoLoading:false,\r\n      settingInfoForm:  {\r\n        user_name: '',\r\n        // user_question: '',\r\n        // user_answer: ''\r\n      },\r\n      settingInfoRules: {\r\n        user_name: [\r\n          { required: true, trigger: 'blur', message:'请输入昵称' },\r\n          { min: 4, max:30, trigger: 'blur', message: '昵称长度为4~30个字符' }\r\n        ],\r\n        // user_question: [\r\n        //   { required: true, trigger: 'blur', message: '请输入验证问题' }\r\n        // ],\r\n        // user_answer: [\r\n        //   { required: true, trigger: 'blur', message: '请输入答案' }\r\n        // ]\r\n      },\r\n      loading: false,\r\n      passwordType: 'password',\r\n      redirect: undefined,\r\n    }\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function(route) {\r\n        const  flag  = route.fullPath.indexOf(\"?redirect=\")>0\r\n        if(flag){\r\n          const redirect = route.fullPath.split('?redirect=')[1]\r\n          this.redirect = decodeURIComponent(redirect)\r\n        }\r\n\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    prev(i){\r\n      this.showModule = --i\r\n    },\r\n    submit(){\r\n\r\n    },\r\n    showPwd() {\r\n      if (this.passwordType === 'password') {\r\n        this.passwordType = ''\r\n      } else {\r\n        this.passwordType = 'password'\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.user_pass.focus()\r\n      })\r\n    },\r\n\r\n    handleLogin() {\r\n      const _ref = this.$refs;\r\n      _ref.loginForm.validate(valid => {\r\n        if (valid) {\r\n          this.loading = true\r\n          const { user_pass } = this.loginForm\r\n          const md5Userpass = md5Encryption(user_pass)\r\n          const userInfo = {...this.loginForm,user_pass:md5Userpass}\r\n          this.$store.dispatch('user/login', userInfo).then((user) => {\r\n            const { inited } = user\r\n            this.loading = false\r\n            if(inited === 0){\r\n              this.showModule = 2\r\n              this.$nextTick(() => {\r\n                this.$refs.user_name.focus()\r\n              })\r\n\r\n            }else{\r\n              this.$store.dispatch('message/hasnew')\r\n              this.$router.push({ path: this.redirect || '/' })\r\n            }\r\n\r\n\r\n            // if(inited === 1){\r\n            //   this.showModule = 2\r\n            //   this.answerForm.user_question = user_question\r\n            //   this.$nextTick(() => {\r\n            //     this.$refs.userAnswer.focus()\r\n            //   })\r\n\r\n            // }\r\n\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          this.loading = false\r\n          return false\r\n        }\r\n      })\r\n\r\n    },\r\n    // verifyanswer (){\r\n    //   const _ref = this.$refs;\r\n    //   _ref.answerForm.validate(valid => {\r\n    //     if (valid) {\r\n    //       this.answerLoading = true\r\n    //       const { user_answer } = this.answerForm\r\n    //       const md5UserAnswer = md5Encryption(user_answer)\r\n    //       const userAnswer = {user_answer:md5UserAnswer}\r\n    //       this.$store.dispatch('user/verifyanswer', userAnswer).then(() => {\r\n    //          this.answerLoading = false\r\n    //          this.$store.dispatch('message/hasnew')\r\n    //          this.$router.push({ path: this.redirect || '/' })\r\n    //       }).catch(() => {\r\n    //         this.answerLoading = false\r\n    //         // this.$store.dispatch('user/resetUserInfo')\r\n    //       })\r\n    //     } else {\r\n    //       console.log('error submit!!')\r\n    //       return false\r\n    //     }\r\n    //   })\r\n    // },\r\n\r\n    // 进入大厅\r\n    handleHome(){\r\n      this.$refs.settingInfoForm.validate(valid => {\r\n          if (valid) {\r\n            this.settingInfoLoading = true\r\n            // const { user_answer } = this.settingInfoForm\r\n            // const md5UserAnswer = md5Encryption(user_answer)\r\n            // const settingInfo = {...this.settingInfoForm,user_answer:md5UserAnswer}\r\n              this.$store.dispatch('user/inituser', this.settingInfoForm).then(() => {\r\n              this.$store.dispatch('message/hasnew')\r\n              this.$router.push({ path: this.redirect || '/' })\r\n              this.settingInfoLoading = false\r\n            }).catch(() => {\r\n              this.settingInfoLoading = false\r\n               //this.$store.dispatch('user/resetUserInfo')\r\n            })\r\n          } else {\r\n            console.log('error submit!!')\r\n            return false\r\n          }\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.login-container {\r\n  .login-form {\r\n    position: relative;\r\n    width: 520px;\r\n    max-width: 100%;\r\n    padding: 120px 35px 60px;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .button-btn {\r\n    width: 100%;\r\n    margin: 20px 0 30px;\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n    .title {\r\n      font-size: 26px;\r\n      margin: 20px auto 30px auto;\r\n      text-align: center;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .prev {\r\n    cursor: pointer;\r\n    color: #999\r\n  }\r\n\r\n  .show-pwd {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 4px;\r\n    font-size: 16px;\r\n    color: #999;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n\r\n  .line {\r\n    height: 1px;\r\n    background: #eee;\r\n    width: 100%;\r\n    position: relative;\r\n    text-align: center;\r\n    margin: 40px 0;\r\n    .line-title {\r\n      font-size: 13px;\r\n      text-align: center;\r\n      background: #fff;\r\n      display: inline-block;\r\n      padding:10px 2px;\r\n      top:-15px;\r\n      position: relative;\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7e870fcf&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7e870fcf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e870fcf\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}