(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f49fc51"],{"011d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("breadcrumb-box"),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:17}},[s("el-card",{staticClass:"box-card"},[s("div",{staticStyle:{"min-height":"550px"}},[s("div",{staticClass:"tab-container"},[s("div",{staticClass:"Btn",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("\n                创建课题\n              ")]),t._v(" "),s("el-tabs",{staticClass:"tab",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"我创建的课题",name:"first"}},[s("el-row",{attrs:{gutter:20}},t._l(t.subjectmines,function(e,a){return s("el-col",{key:a,attrs:{span:12}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[s("router-link",{attrs:{to:{path:"/studio",query:{id:e.id,fromPage:"Workbench"}}}},[s("div",{staticClass:"card-header"},[t._v("\n                            "+t._s(e.title)+"\n                          ")]),t._v(" "),s("div",{staticClass:"card-main"},[t._v("\n                            "+t._s(e.content)+"\n                          ")])]),t._v(" "),s("div",{staticClass:"card-footer flex-space-between"},[s("div",{staticClass:"card-footer-left"},[s("ul",[s("li",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.hide_flag,expression:"item.hide_flag == 1"}]},[t._v("私有")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.hide_flag,expression:"item.hide_flag == 0"}],staticStyle:{color:"#409EFF"}},[t._v("公开 ")])])]),t._v(" "),s("span",[t._v(" "+t._s(e.mtime))])]),t._v(" "),s("div",{staticClass:"card-footer-right"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom-start"}},[s("el-button",{attrs:{type:"text"}},[s("span",{staticClass:"edit-outline",on:{click:function(i){return t.editsubjec(e)}}},[s("img",{attrs:{src:i("2c44"),height:"16",width:"16",alt:"编辑"}})])])],1),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加人员",placement:"bottom-start"}},[s("span",{staticClass:"add-person"},[s("img",{attrs:{src:i("e82e"),height:"16",width:"16",alt:"添加人员"},on:{click:function(i){return t.addperson(e.id)}}})])]),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:0==e.hide_flag?"公开":"私有",placement:"bottom-start"}},[s("el-switch",{staticClass:"sw",on:{change:function(i){return t.switchsubject(e.hide_flag,e.id)}},model:{value:0==e.hide_flag,callback:function(i){t.$set(e,"hide_flag == 0 ? true: false",i)},expression:"item.hide_flag == 0 ? true: false"}})],1)],1)])],1)],1)}),1)],1),t._v(" "),s("el-tab-pane",{attrs:{label:"参与的课题",name:"second"}},[s("el-row",{attrs:{gutter:20}},t._l(t.subjememberofs,function(e){return s("el-col",{key:e.id,attrs:{span:12}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[s("router-link",{attrs:{to:{path:"/studio",query:{id:e.id,fromPage:"Workbench"}}}},[s("div",{staticClass:"FLEX card-main-join "},[s("div",{staticClass:"card-img"},[s("avatar",{staticStyle:{margin:"0 auto",width:"45px",height:"45px","line-height":"45px"},attrs:{headIcon:e.creator.user_headicon,name:e.creator.user_abbr,bgColor:e.creator.user_backcolor,size:"mini"}})],1),t._v(" "),s("div",{staticClass:"card-txt"},[s("div",{staticClass:"card-header"},[t._v("\n                                "+t._s(e.title)+"\n                              ")])])]),t._v(" "),s("div",{staticClass:"txt-content"},[t._v("\n                            "+t._s(e.content)+"\n                          ")])]),t._v(" "),s("div",{staticClass:"card-footer card-footer-join"},[s("el-row",[s("el-col",{staticStyle:{"border-right":"#ddd 1px solid"},attrs:{span:12}},[s("div",{staticClass:"card-footer-left card-footer-left-join"},[s("ul",[s("li",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.hide_flag,expression:"item.hide_flag == 1"}]},[t._v("私有")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.hide_flag,expression:"item.hide_flag == 0"}],staticStyle:{color:"#409EFF"}},[t._v("公开 ")])])]),t._v(" "),s("div",{staticClass:"time",staticStyle:{"margin-left":"10px"}},[s("span",[t._v(" "+t._s(e.mtime)+"更新")])])])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"card-footer-right card-footer-right-join"},[s("router-link",{attrs:{to:{path:"/studio",query:{id:e.id}}}},[t._v(" 进入工作室")])],1)])],1)],1)],1)],1)}),1)],1)],1)],1)])])],1),t._v(" "),s("el-col",{attrs:{span:7}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"list-box"},[s("div",{staticClass:"flex-space-between"},[s("div",{staticClass:"h1 "},[t._v("我的资料库")]),t._v(" "),s("div",{staticClass:"more"},[s("router-link",{attrs:{to:{path:"/dataList"}}},[t._v(" 全部 >>")])],1)]),t._v(" "),t.materiallists.length>0?s("ul",{staticStyle:{"margin-top":"10px"}},t._l(t.materiallists,function(e,i){return s("router-link",{directives:[{name:"show",rawName:"v-show",value:i<5,expression:"index < 5"}],key:i,staticClass:"ellipsis",attrs:{to:"/dataDetail/"+e.id+"?fromPage=Workbench"}},[s("li",{staticClass:"flex-space-between"},[s("div",{staticClass:"list-title ellipsis"},[t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),s("div",{staticClass:"list-time"},[t._v("\n                    "+t._s(e.mtime)+"\n                  ")])])])}),1):s("div",{staticClass:"nulldata"},[s("div",{staticClass:"time nulldata-txt",staticStyle:{"margin-bottom":"70px"}},[t._v("\n                暂无内容，请在课题里添加\n              ")])])])]),t._v(" "),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"list-box"},[s("div",{staticClass:"flex-space-between"},[s("div",{staticClass:"h1 "},[t._v("我的文章")]),t._v(" "),s("div",{staticClass:"more"},[s("router-link",{attrs:{to:{path:"/articleList"}}},[t._v(" 全部 >>")])],1)]),t._v(" "),t.articlemines.length>0?s("ul",{staticStyle:{"margin-top":"10px"}},t._l(t.articlemines,function(e,i){return s("router-link",{directives:[{name:"show",rawName:"v-show",value:i<5,expression:"index < 5"}],key:i,staticClass:"ellipsis",attrs:{to:"/articleDetail/"+e.id+"?fromPage=Workbench"}},[s("li",{staticClass:"flex-space-between"},[s("div",{staticClass:"list-title ellipsis"},[t._v("\n                      "+t._s(e.title)+"\n                  ")]),t._v(" "),s("div",{staticClass:"list-time"},[t._v("\n                    "+t._s(e.mtime)+"\n                  ")])])])}),1):s("div",{staticClass:"nulldata"},[s("div",{staticClass:"time nulldata-txt",staticStyle:{"margin-bottom":"70px"}},[t._v("\n                暂无内容，请在课题里添加\n              ")])])])])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"创建课题",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{attrs:{model:t.subject}},[s("el-form-item",{attrs:{label:"课题名称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.subject.title,callback:function(e){t.$set(t.subject,"title",e)},expression:"subject.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.subject.content,callback:function(e){t.$set(t.subject,"content",e)},expression:"subject.content"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.subjectadd}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"编辑课题",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[s("el-form",{attrs:{model:t.editsubject}},[s("el-form-item",{attrs:{label:"课题名称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.editsubject.title,callback:function(e){t.$set(t.editsubject,"title",e)},expression:"editsubject.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.editsubject.content,callback:function(e){t.$set(t.editsubject,"content",e)},expression:"editsubject.content"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.subjectmodify(t.editsubject.id)}}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"添加人员",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[s("div",[s("el-input",{attrs:{placeholder:"输入邮箱或用户名搜索"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.infofind(e)}},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("div",{staticClass:"search-result"},[s("ul",t._l(t.searchuser,function(e){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.searchuser.length>0,expression:"searchuser.length > 0"}],key:e.id,staticClass:"flex-space-between"},[s("div",{staticClass:"user FLEX"},[s("avatar",{staticStyle:{margin:"0 auto",width:"45px",height:"45px","line-height":"45px"},attrs:{headIcon:e.user_headicon,bgColor:e.user_backcolor,name:e.user_abbr,size:"mini"}}),t._v(" "),s("div",{staticClass:"user-info "},[s("div",{staticClass:"time"},[t._v(t._s(e.user_name))]),t._v(" "),s("div",[t._v(t._s(e.account))])])],1),t._v(" "),s("el-button",{attrs:{size:"small"},on:{click:function(i){return t.subjectaddmember(e.id)}}},[t._v("添加")])],1)}),0)])]),t._v(" "),s("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[t.hide_flag?s("span",[t._v("公开后该课题显示在大厅，确认操作？")]):s("span",[t._v("关闭开关后不能显示在大厅，确定操作？")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.setstaus}},[t._v("确 定")])],1)])],1)},a=[],n=i("cb39"),r=i("77c0"),c=i("365c"),o={name:"workbench",components:{BreadcrumbBox:n["a"],Avatar:r["a"]},data:function(){return{activeName:"first",value:!0,limit:5,page:1,materiallists:[],articlemines:[],subjectmines:[],editsubject:{title:"",content:""},dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,centerDialogVisible:!1,subject:{title:"",content:""},formLabelWidth:"120px",key:"",searchuser:[],sid:"",id:this.$store.state.user.user.id,hide_flag:0,subjememberofs:[]}},mounted:function(){this.materialmine(),this.articlemine(),this.subjectmine()},methods:{subjectadd:function(){var t=this;this.dialogFormVisible=!1,Object(c["j"])({title:this.subject.title,content:this.subject.content}).then(function(e){t.subjectmine()})},subjectmodify:function(t){var e=this;this.dialogFormVisible1=!1,Object(c["r"])({id:t,title:this.editsubject.title,content:this.editsubject.content}).then(function(t){e.subjectmine()})},editsubjec:function(t){this.dialogFormVisible1=!0,this.editsubject=t,console.log("editsubject",this.editsubject)},addperson:function(t){this.dialogFormVisible2=!0,this.sid=t},subjectaddmember:function(t){var e=this;Object(c["k"])({id:this.sid,uid:t}).then(function(t){200==t.code?e.$message({message:"添加成员成功！",type:"success"}):e.$message({message:"添加成员失败！",type:"error"}),e.dialogFormVisible2=!1})},subjectmine:function(){var t=this;Object(c["q"])({limit:this.limit,page:this.page}).then(function(e){t.subjectmines=e.data.list})},subjectmemberof:function(){var t=this;Object(c["p"])({limit:this.limit,page:this.page}).then(function(e){t.subjememberofs=e.data.list})},materialmine:function(){var t=this;Object(c["i"])({limit:this.limit,page:this.page}).then(function(e){t.materiallists=e.data.list})},articlemine:function(){var t=this;Object(c["b"])({limit:this.limit,page:this.page}).then(function(e){t.articlemines=e.data.list})},infofind:function(){var t=this;Object(c["g"])({key:this.key,limit:this.limit,page:this.page}).then(function(e){t.searchuser=e.data.list})},switchsubject:function(t,e){this.centerDialogVisible=!0,this.hide_flag=t,this.sid=e},setstaus:function(){var t=this;0==this.hide_flag?Object(c["m"])({id:this.sid}).then(function(e){200==e.code&&(t.$message({message:"设为私有成功！",type:"success"}),t.subjectmine())}):Object(c["s"])({id:this.sid}).then(function(e){200==e.code&&t.$message({message:"设为公开成功！",type:"success"}),t.subjectmine()}),this.centerDialogVisible=!1},handleClick:function(t,e){"我创建的课题"==t.label?this.subjectmine():"参与的课题"==t.label&&this.subjectmemberof()}}},l=o,u=(i("f17c"),i("a04b"),i("17cc")),d=Object(u["a"])(l,s,a,!1,null,"48c25093",null);e["default"]=d.exports},"0646":function(t,e,i){},"2c44":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA4ElEQVQ4T82TsQ2DMBBFz1j0jJANkhEyAmzACNCcRZdU6NyYbJARskkYgRFIR4MuMgIURRiD0sSNC/s92/98An4cYi+vtT4BgAnDMMnzvB0ERBQHQXBckjFzi4g3uzbCFQDcASBFxPMg0FozM18dt2mVUtUE932fSimtIEPEehYgovM5Ltge6BWswV6BD14VbIF9gkYIkTLzZQpsrFhmZxusU1CW5UFK+QSAFwDENu2pQkRkhVYwzIshGmOiruuioiia79JuEqz9zj8VEFEthFjsBUd/JEqpxxzi3o783P8GfJymEUQ3BTwAAAAASUVORK5CYII="},"365c":function(t,e,i){"use strict";i.d(e,"f",function(){return a}),i.d(e,"n",function(){return n}),i.d(e,"q",function(){return r}),i.d(e,"i",function(){return c}),i.d(e,"j",function(){return o}),i.d(e,"r",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"k",function(){return d}),i.d(e,"p",function(){return m}),i.d(e,"e",function(){return b}),i.d(e,"a",function(){return f}),i.d(e,"h",function(){return h}),i.d(e,"b",function(){return v}),i.d(e,"c",function(){return p}),i.d(e,"o",function(){return g}),i.d(e,"m",function(){return _}),i.d(e,"s",function(){return j}),i.d(e,"d",function(){return C}),i.d(e,"t",function(){return k}),i.d(e,"l",function(){return A});var s=i("b775");function a(t){return Object(s["a"])({url:"/subject/index/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/user/subject/find",method:"post",data:t})}function r(t){return Object(s["a"])({url:"/user/subject/mine",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/subject/material/mine",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/user/subject/add",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/user/subject/modify",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/user/info/find",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/user/subject/addmember",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/user/subject/memberof",method:"get",params:t})}function b(t){return Object(s["a"])({url:"/user/info/getuser",method:"get",params:t})}function f(t){return Object(s["a"])({url:"/subject/article/list",method:"get",params:t})}function h(t){return Object(s["a"])({url:"/subject/material/list",method:"get",params:t})}function v(t){return Object(s["a"])({url:"/subject/article/mine",method:"get",params:t})}function p(t){return Object(s["a"])({url:"/subject/comment/add",method:"post",data:t})}function g(t){return Object(s["a"])({url:"/user/subject/get",method:"get",params:t})}function _(t){return Object(s["a"])({url:"/user/subject/close",method:"post",data:t})}function j(t){return Object(s["a"])({url:"/user/subject/open",method:"post",data:t})}function C(t){return Object(s["a"])({url:"/subject/comment/find",method:"post",data:t})}function k(t){return Object(s["a"])({url:"/user/subject/removemember",method:"post",data:t})}function A(t){return Object(s["a"])({url:"/user/subject/banmember",method:"post",data:t})}},a04b:function(t,e,i){"use strict";var s=i("0646"),a=i.n(s);a.a},e82e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABb0lEQVQ4T32TzXGDMBCF38rG1zgV2CWQDijBJTgVxBy8Gt/IySP5gNOBO4g7COmAEkgHuRtQZhnwgILRDAek3W/f/hG8k6bpsizLt7qutwCeicgBuFZV9X44HArfnvoX4ny73b4AfAdBkMRx/CvvxpgdEe0AbJg57/sMAMaYC4BCa534kU6nU+ScuzDzehTQRs99g75xG+Cqtb5293cFbYQdM2/86N2/pAJg2Vd4B1hrQwBnZo4mAE1qowB5sNYWQRCEXfF8kLU2AyAq74X0i5gQ0YqZX0ecpa1bX+EA0Ko4AwiJKHXO/QB4Ekfn3MtisYh8df8Ax+NxPZvNPgUi8wBA2rZyzp3ruv7wh2kAsNZKJKl00m9V2+JNVVXZQ0DrHGmtJdeHR9pdlmXRgRoFIlspJQMisiePMSZRSmX7/V46ggYwNmEjXRC4FHZNRLIj8sUNQPo/NcJi025p2G5prpTK5/N53gGyqQn09mGQwh92psSc7hpOYQAAAABJRU5ErkJggg=="},f17c:function(t,e,i){"use strict";var s=i("f4ee"),a=i.n(s);a.a},f4ee:function(t,e,i){}}]);
//# sourceMappingURL=chunk-4f49fc51.cc71b6ba.js.map